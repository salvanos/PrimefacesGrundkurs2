<ui:composition template="/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">
<ui:define name="content">
<h:form>
<p:dataTable
	value="#{searchController.items}"
	var="item">
	<p:column>
		<p:panelGrid columns="2">
			<h:outputText value="#{msg['item.title']}:"/>
			<h:outputText value="#{item.title}"/>
			<h:outputText value="#{msg['item.id']}:"/>
			<h:outputText value="#{item.id}"/>
			<h:outputText value="#{msg['item.description']}:"/>
			<h:outputText value="#{item.description}"/>
			<h:outputText value="#{msg['item.price']}:"/>
			<h:outputText value="#{item.price}"/>
			<h:outputText 
				rendered="#{not empty item.sold}"
				value="#{msg['item.sold']}"/>
			<h:outputText
				value="#{item.sold}"/>
			<p:commandButton 
				rendered="#{not empty signinController.customer.email}"
				disabled="#{not empty item.sold}"
				value="#{msg['buy']}"
				action="#{buyController.update(item.id)}"
				update="@parent"/>
		</p:panelGrid>
	</p:column>
	<p:column>
		<h:graphicImage url="image?id=#{item.id}"/>
	</p:column>
</p:dataTable>
</h:form>
</ui:define>
</ui:composition>
